<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="abort()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title *ngIf="mode === 'CREATE_USER'">Neuen Benutzer hinzufügen</ion-title>
    <ion-title *ngIf="mode === 'CREATE_VERWALTER'">Neuen Hausverwalter anlegen</ion-title>
    <ion-title *ngIf="mode === 'EDIT_USER' || mode === 'EDIT_VERWALTER'">{{edit.email}} bearbeiten</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>

  <ion-grid fixed>
    <ion-row>
      <ion-col size="12">
        <app-breadcrumb></app-breadcrumb>
        <ion-card>
          <fiv-loading-progress-bar (fivComplete)="userCreateComplete()" #bar></fiv-loading-progress-bar>
          <ion-card-content>
            <form [formGroup]="user">
              <ion-item>
                <ion-label position="floating">E-Mail</ion-label>
                <ion-input formControlName="email" type="text"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="floating">Vorname</ion-label>
                <ion-input formControlName="firstname" type="text"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="floating">Nachname</ion-label>
                <ion-input formControlName="lastname" type="text"></ion-input>
              </ion-item>
              <ion-item *ngIf="mode === 'CREATE_USER'">
                <ion-label position="floating">Rolle wählen</ion-label>
                <ion-select [placeholder]="user.value.role | role" formControlName="role">
                  <ion-select-option *ngIf="currentUser.role === 'ROLE_HAUSVERWALTER'">Mitarbeiter</ion-select-option>
                  <ion-select-option>Hausmeister</ion-select-option>
                </ion-select>
              </ion-item>
              <ng-container *ngIf="mode === 'CREATE_VERWALTER' || mode === 'EDIT_VERWALTER'">
                <ion-item-divider>
                  <ion-label>Weitere Informationen</ion-label>
                </ion-item-divider>
                <ion-item>
                  <ion-label position="floating">Firma</ion-label>
                  <ion-input formControlName="companyName" type="text"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label position="floating">Straße und Hausnummer</ion-label>
                  <ion-input formControlName="streetAndNo" type="text"></ion-input>
                </ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col size="4">
                      <ion-item>
                        <ion-label position="floating">PLZ</ion-label>
                        <ion-input formControlName="zip" type="number"></ion-input>
                      </ion-item>
                    </ion-col>
                    <ion-col size="8">
                      <ion-item>
                        <ion-label position="floating">Ort</ion-label>
                        <ion-input formControlName="city" type="text"></ion-input>
                      </ion-item>
                    </ion-col>
                  </ion-row>
                </ion-grid>

                <ion-item>
                  <ion-label position="floating">Telefon</ion-label>
                  <ion-input formControlName="telephone" type="tel"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label position="floating">Fax</ion-label>
                  <ion-input formControlName="fax" type="tel"></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label position="floating">Website</ion-label>
                  <ion-input formControlName="website" type="url"></ion-input>
                </ion-item>
              </ng-container>
            </form>
          </ion-card-content>
          <ion-toolbar>
            <ion-buttons slot="end">
              <ion-button color="primary" (click)="edit? editUser(bar) : createUser(bar)" [disabled]="user.invalid">
                {{user?.value.email}}
                {{edit? 'bearbeiten' : 'hinzufügen'}} </ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>



</ion-content>

<!-- <fiv-dialog>

</fiv-dialog> -->