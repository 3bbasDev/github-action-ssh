<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="navigateBack()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Passwort ändern</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content padding>
  <fiv-loading-progress-bar #loading (fivComplete)="changeComplete()"></fiv-loading-progress-bar>
  <form [formGroup]="passwordChange" (ngSubmit)="change(loading)">
    <ion-list>
      <ion-item>
        <ion-label position="floating">Neues Passwort</ion-label>
        <ion-input formControlName="password" type="password"></ion-input>
      </ion-item>
      <ion-item *ngIf="password.invalid && password.touched" lines="none">
        <ion-text color="danger" class="form-error">
          Bitte geben Sie eine gültige Passwort Adresse ein.
        </ion-text>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Neues Passwort bestätigen</ion-label>
        <ion-input #emailI formControlName="password2" type="password"></ion-input>
      </ion-item>
      <ion-item *ngIf="password2.invalid && password2.touched || password2.valid  &&  !equal()" lines="none">
        <ion-text color="danger" class="form-error">
          Das Passwort muss mit dem oben angegebenen Passwort übereinstimmen
        </ion-text>
      </ion-item>
      <ion-button shape="block" color="primary" [disabled]="!passwordChange.dirty || !passwordChange.valid || !equal()"
        type="submit">
        Passwort ändern
      </ion-button>
    </ion-list>
  </form>
</ion-content>