import { ContextState } from '@store/context/context.state';
import { Component, OnInit } from '@angular/core';
import { Dispatch } from '@ngxs-labs/dispatch-decorator';
import { NavigateBackward } from '@fivethree/ngxs-ionic-router-plugin';
import { Select } from '@ngxs/store';
import { AuthState } from '@store/auth/auth.state';
import { Observable } from 'rxjs';
import { User, GetContextResult } from 'shared';
import { GetContext } from '@store/context/context.actions';

@Component({
  selector: 'app-user-detail',
  templateUrl: './user-detail.page.html',
  styleUrls: ['./user-detail.page.scss'],
})
export class UserDetailPage implements OnInit {

  @Select(AuthState.user)
  user: Observable<User>;

  @Select(ContextState.context)
  context: Observable<GetContextResult>;

  constructor() { }

  ngOnInit() {
  }

  ionViewWillEnter() {

  }

  @Dispatch()
  navigateBack = () => new NavigateBackward(['tabs', 'tab4'])

  @Dispatch()
  loadContext = () => new GetContext()

}
