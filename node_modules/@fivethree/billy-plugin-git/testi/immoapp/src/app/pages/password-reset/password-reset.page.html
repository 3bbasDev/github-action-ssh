<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="login"></ion-back-button>
    </ion-buttons>
    <ion-title>Passwort zurücksetzen</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content padding>
  <fiv-loading-progress-bar #loading (fivComplete)="resetComplete()"></fiv-loading-progress-bar>
  <form [formGroup]="passwordReset" (ngSubmit)="reset(loading)">
    <ion-list>
      <ion-item>
        <ion-label position="floating">E-Mail</ion-label>
        <ion-input #emailI formControlName="email" type="email"></ion-input>
      </ion-item>
      <ion-item *ngIf="email.invalid && email.touched" lines="none">
        <ion-text color="danger" class="form-error">
          Bitte geben Sie eine gültige E-Mail Adresse ein.
        </ion-text>
      </ion-item>
      <ion-item>
        <ion-label position="floating">E-Mail bestätigen</ion-label>
        <ion-input #emailI formControlName="email2" type="email"></ion-input>
      </ion-item>
      <ion-item *ngIf="email2.invalid && email2.touched || email2.valid  &&  !equal()" lines="none">
        <ion-text color="danger" class="form-error">
          Die E-Mail Adresse muss mit der oben angegebenen Adresse übereinstimmen
        </ion-text>
      </ion-item>
      <ion-button shape="block" color="primary" [disabled]="!passwordReset.dirty || !passwordReset.valid || !equal()"
        type="submit">
        Passwort zurücksetzen
      </ion-button>
    </ion-list>
  </form>

</ion-content>