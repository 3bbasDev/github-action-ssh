<ion-card [ngClass]="{'first': first, 'last': last}">
    <ion-toolbar color="translucent">
        <ion-title (click)="ex.toggle()">{{checklist?.name}}</ion-title>
        <ion-buttons slot="end">
            <ion-button>
                <ion-checkbox (ionChange)="checklistChange($event)"></ion-checkbox>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
    <ion-card-content>
        <ion-item *ngIf="checklist.levels as ls" lines="none" (click)="ex.toggle()">
            <ion-label>{{ls.length > 1 ? ls.length + ' Prüfbereiche' : ls.length === 0 ? 'Keine Prüfbereiche' : '1
                Prüfbereich'}}</ion-label>
            <div slot="end">
                <p>{{checklist | kriterien}}</p>
            </div>
        </ion-item>
        <fiv-expandable #ex>
            <div content>
                <ion-list lines="inset">
                    <ion-item *ngFor="let l of checklist.levels">
                        <ion-label>{{l.name}}</ion-label>
                            <ion-checkbox (ionChange)="levelChange($event,l)" slot="end"></ion-checkbox>
                    </ion-item>

                </ion-list>

            </div>
        </fiv-expandable>
    </ion-card-content>
    <div style="text-align:center;" (click)="ex.toggle()">
        <ion-icon [ngClass]="{'rotate': ex.isOpen}" [name]="'ios-arrow-down'"></ion-icon>
    </div>
</ion-card>